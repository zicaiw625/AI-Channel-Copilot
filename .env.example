# Server
NODE_ENV=development

# Shopify App configuration
SHOPIFY_API_KEY=
SHOPIFY_API_SECRET=
SHOPIFY_APP_URL=http://localhost:3000

# Comma-separated scopes (与 shopify.app.toml 保持一致)
# - read_orders: AI 订单归因分析 (必需)
# - read_customers: LTV/复购率分析 (必需)
# - read_products: AI 优化建议 (必需)
# - read_checkouts: 转化漏斗分析 (必需)
# - write_orders: 订单标签写回 (可选，用户可控)
SCOPES=read_orders,read_customers,read_products,write_orders,read_checkouts

# Billing configuration (与 plans.ts 保持一致)
# Pro 计划: $29/月，14 天试用
BILLING_PLAN_NAME=AI Copilot Pro
BILLING_PRICE=29
BILLING_CURRENCY=USD
BILLING_TRIAL_DAYS=14
BILLING_INTERVAL=EVERY_30_DAYS

# Billing gating
# ENABLE_BILLING: 开启计费逻辑（软/硬门禁都需要开启该总开关）；开发/测试环境建议关闭
ENABLE_BILLING=false
# BILLING_FREE_DAYS: 安装后免费使用的天数（超过后自动开始强制门禁），仅当 ENABLE_BILLING=true 且 BILLING_ENFORCE!=true 时生效
BILLING_FREE_DAYS=7
# BILLING_ENFORCE: 立即强制门禁（true/false）。为 true 时忽略 BILLING_FREE_DAYS
BILLING_ENFORCE=false

# Database (TLS recommended for non-local DBs)
DATABASE_URL=postgresql://<user>:<password>@<host>/<database>?sslmode=require

# Optional: restrict DB access in production
DB_ALLOWED_HOSTS=dpg-d4lqueruibrs7387300g-a.oregon-postgres.render.com
DB_REQUIRE_SSL=true

# Demo mode (enables demo data when no store data is available)
DEMO_MODE=false

# Optional: external metrics/observability endpoint
# 注意：如果配置此项，shopDomain 和错误信息会被发送到该 endpoint
# 请确保在隐私政策中说明
# METRICS_WEBHOOK_URL=
# METRICS_WEBHOOK_TOKEN=
