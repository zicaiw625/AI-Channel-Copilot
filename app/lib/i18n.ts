type Lang = "中文" | "English";

const dict: Record<string, { zh: string; en: string }> = {
  hint_zero_ai: { zh: "选定区间内有订单但未识别到 AI 渠道。建议前往「设置 / 规则 & 导出」补充 AI 域名或 utm_source 规则。", en: "Orders exist in the selected window but no AI channel was detected. Please configure AI domains or utm_source rules in Settings." },
  goto_settings: { zh: "前往设置", en: "Go to Settings" },
  top_customers_title: { zh: "Top Customers by LTV（窗口）", en: "Top Customers by LTV (Window)" },
  col_customer: { zh: "客户 ID", en: "Customer ID" },
  col_ltv: { zh: "LTV", en: "LTV" },
  col_orders: { zh: "订单数", en: "Orders" },
  col_ai: { zh: "AI", en: "AI" },
  export_ltv_csv: { zh: "下载 LTV CSV", en: "Download LTV CSV" },
  channels_section_title: { zh: "渠道贡献（GMV / 订单 / 新客）", en: "Channel Contribution (GMV / Orders / New Customers)" },
  trend_section_title: { zh: "GMV / 订单趋势（按渠道过滤）", en: "GMV / Orders Trend (Filter by Channel)" },
  products_section_title: { zh: "Top Products from AI Channels", en: "Top Products from AI Channels" },
  export_products_csv: { zh: "导出产品榜单 CSV", en: "Export Products CSV" },
  export_orders_csv: { zh: "导出 AI 订单 CSV", en: "Export AI Orders CSV" },
  toggle_gmv: { zh: "GMV", en: "GMV" },
  toggle_orders: { zh: "订单", en: "Orders" },
  toggle_new_customers: { zh: "新客", en: "New Customers" },
  col_acquired_ai: { zh: "首单 AI 获客", en: "First Order AI-acquired" },
  col_repeats: { zh: "复购次数", en: "Repeat Count" },
  settings_lede_desc: { zh: "控制 referrer / UTM 匹配规则、标签写回、语言时区，并导出 AI 渠道订单与产品榜单。所有数据基于 v0.1 保守识别。", en: "Control referrer/UTM rules, tag write-back, language/timezone, and export AI orders and product lists. All data follows v0.1 conservative attribution." },
  ai_conservative_alert: { zh: "AI 渠道识别为保守估计：依赖 referrer/UTM/标签，部分 AI 会隐藏来源；仅统计站外 AI 点击到站并完成订单的链路。", en: "AI attribution is conservative: depends on referrer/UTM/tags; some AI hide referrer. We only count offsite AI clicks that land and convert." },
  default_rules_help: { zh: "默认规则覆盖 ChatGPT / Perplexity / Gemini / Copilot / Claude / DeepSeek 等常见 referrer 与 utm_source；安装后无需改动即可识别主流 AI 域名与 UTM。", en: "Default rules cover common referrers and utm_source for ChatGPT, Perplexity, Gemini, Copilot, Claude, DeepSeek; works out-of-the-box." },
  tag_prefix_help: { zh: "标签默认前缀：订单 AI-Source-*，客户 AI-Customer；可在下方自定义。", en: "Default tag prefixes: Orders AI-Source-*, Customer AI-Customer; customizable below." },
  backfill_protect_alert: { zh: "单次 Backfill 保护：最多回拉 60 天 / 1000 笔订单（Shopify 默认限制）。大店请拆分时间窗口分批回填。", en: "Backfill protection: max 60 days / 1000 orders per run (Shopify default limit). Split windows for high-volume shops." },
  backfill_help: { zh: "回拉任务可能需多次覆盖所有历史数据，特别是高日单量或区间较长的店铺，建议拆分时间段循环触发。", en: "Backfill may need multiple runs for full coverage, especially for high-volume or long-range shops." },
  referrer_help: { zh: "编辑默认域名可能导致漏标/误标，建议只新增或停用可疑域名；referrer 匹配优先于 UTM。Copilot 仅在 copilot.microsoft.com 或带 chat/copilot 参数的 bing.com 计入。", en: "Editing default domains may reduce accuracy; prefer adding/disabling suspicious domains. Referrer > UTM. Copilot counted only for copilot.microsoft.com or bing.com with chat/copilot params." },
  tagging_enable_alert: { zh: "启用后将修改订单/客户标签。若依赖标签驱动自动化，请先在测试店验证。避免与既有标签冲突。", en: "Enabling tag write-back modifies order/customer tags. Verify on a test shop if your automations depend on tags. Avoid conflicts." },
  llms_preview_help: { zh: "llms.txt 为实验性标准，不保证产生排名效果；平台采集策略可能变化。", en: "llms.txt is experimental, not guaranteed to improve rankings; platform crawling policies may change." },
  gmv_metric_help: { zh: "仅影响 UI 展示，不影响底层数据口径。", en: "Affects UI display only, not underlying data definitions." },
  customers_ltv_desc: { zh: "字段：customer_id、LTV（窗口内累计 GMV）、GMV 口径、first_ai_acquired、repeat_count、ai_order_share、first_order_at。", en: "Fields: customer_id, LTV (window GMV), gmv_metric, first_ai_acquired, repeat_count, ai_order_share, first_order_at." },
  btn_save: { zh: "保存", en: "Save" },
  btn_write_tags_now: { zh: "立即写回标签", en: "Write Tags Now" },
  btn_backfill_60d: { zh: "补拉最近 60 天订单", en: "Backfill Last 60 Days" },
  btn_add_domain: { zh: "添加域名", en: "Add Domain" },
  btn_delete: { zh: "删除", en: "Delete" },
  btn_add_utm: { zh: "添加 UTM", en: "Add UTM" },
  placeholder_add_domain: { zh: "新增域名，例如 agent.example.com", en: "Add domain e.g. agent.example.com" },
  placeholder_add_utm_source: { zh: "新增 utm_source，例如 ai-referral", en: "Add utm_source e.g. ai-referral" },
  risk_remove_default_domain: { zh: "移除默认域名可能导致漏标", en: "Removing default domain may reduce attribution accuracy" },
  title_delete_rule: { zh: "删除规则", en: "Delete rule" },
  badge_v01: { zh: "v0.1 内测 · Referrer + UTM", en: "v0.1 Beta · Referrer + UTM" },
  badge_conservative_orders: { zh: "保守识别 · Shopify Orders", en: "Conservative · Shopify Orders" },
  dashboard_title: { zh: "AI 渠道基础仪表盘", en: "AI Channels Dashboard" },
  dashboard_subheading: { zh: "自动识别来自 ChatGPT / Perplexity / Gemini / Copilot 等 AI 助手的订单，给出保守 GMV 估计与差异洞察。", en: "Automatically detects orders from ChatGPT / Perplexity / Gemini / Copilot and provides conservative GMV estimate and insights." },
  dashboard_warning: { zh: "说明：AI 渠道识别为保守估计，依赖 referrer / UTM / 标签，部分 AI 会隐藏来源；仅统计站外 AI 点击 → 到站 → 完成订单的链路，不含 AI 应用内曝光或自然流量。", en: "Note: AI attribution is conservative, relies on referrer/UTM/tags, some AI hide referrer; counts only offsite AI click → land → order, excludes in-app exposure or generic traffic." },
  meta_synced_at: { zh: "同步时间：", en: "Synced: " },
  meta_updated_at: { zh: "数据最近更新：", en: "Last Updated: " },
  meta_range: { zh: "区间：", en: "Range: " },
  meta_metric_scope: { zh: "数据口径：订单", en: "Metrics: Orders" },
  meta_data_source: { zh: "数据源：", en: "Data Source: " },
  meta_timezones_currency: { zh: "计算时区：", en: "Calc TZ: " },
  status_ops: { zh: "系统状态与操作", en: "System Status & Actions" },
  hint_title: { zh: "提示", en: "Hint" },
  metrics_section_label: { zh: "指标说明", en: "Metrics" },
  metrics_section_title: { zh: "口径定义（固定）", en: "Definitions" },
  kpi_total_gmv: { zh: "总 GMV（所选区间）", en: "Total GMV (Window)" },
  kpi_orders: { zh: "订单", en: "Orders" },
  kpi_new_customers: { zh: "新客", en: "New Customers" },
  kpi_net_gmv: { zh: "净 GMV", en: "Net GMV" },
  kpi_ai_gmv: { zh: "AI 渠道 GMV", en: "AI GMV" },
  kpi_ai_share: { zh: "占比", en: "Share" },
  kpi_ai_orders: { zh: "AI 渠道订单", en: "AI Orders" },
  kpi_ai_order_share: { zh: "总订单", en: "Total Orders" },
  kpi_ai_new_customers: { zh: "AI 新客", en: "AI New Customers" },
  kpi_ai_new_customer_rate: { zh: "AI 渠道新客率", en: "AI New Customer Rate" },
  channels_section_label: { zh: "AI 渠道拆分", en: "AI Channels" },
  comparison_section_label: { zh: "关键指标对比", en: "Key Comparison" },
  table_channel: { zh: "渠道", en: "Channel" },
  table_aov: { zh: "AOV", en: "AOV" },
  table_new_customer_rate: { zh: "新客占比", en: "New Customer Rate" },
  table_repeat_rate: { zh: "简易复购率", en: "Repeat Rate" },
  table_sample: { zh: "样本", en: "Sample" },
  products_table_product: { zh: "产品", en: "Product" },
  products_table_ai_orders: { zh: "AI 渠道订单", en: "AI Orders" },
  products_table_ai_gmv: { zh: "AI GMV", en: "AI GMV" },
  products_table_ai_share: { zh: "AI 占比", en: "AI Share" },
  products_table_top_channel: { zh: "Top 渠道", en: "Top Channel" },
  jobs_section_label: { zh: "任务状态", en: "Jobs" },
  jobs_section_title: { zh: "Backfill & Webhook 队列", en: "Backfill & Webhook Queue" },
  jobs_small_badge: { zh: "排队 / 执行 / 完成 / 错误", en: "Queued / Processing / Completed / Failed" },
  debug_section_label: { zh: "调试视图", en: "Debug" },
  debug_section_title: { zh: "最近订单来源解析", en: "Recent Order Source Parsing" },
  debug_table_order: { zh: "订单", en: "Order" },
  debug_table_time: { zh: "时间", en: "Time" },
  debug_table_ai_channel: { zh: "AI 渠道", en: "AI Channel" },
  debug_table_gmv: { zh: "GMV", en: "GMV" },
  debug_table_ref_utm: { zh: "Referrer / UTM", en: "Referrer / UTM" },
  debug_table_detection: { zh: "解析结果", en: "Detection" },
  debug_table_signals: { zh: "signals", en: "signals" },
  badge_priority_high: { zh: "优先级最高", en: "Highest Priority" },
  badge_assist: { zh: "辅助识别", en: "Assisted" },
  badge_experiment: { zh: "实验", en: "Experimental" },
  badge_ui_only: { zh: "仅影响 UI", en: "UI Only" },
  badge_analysis: { zh: "适合二次分析", en: "For Analysis" },
  badge_monitor: { zh: "监控", en: "Monitor" },
  
  // 覆盖率相关
  detection_coverage: { zh: "AI 检测覆盖率", en: "AI Detection Coverage" },
  coverage_low_warning: { zh: "覆盖率过低意味着 AI 流量可能被低估。", en: "Low coverage means AI traffic may be underreported." },
  coverage_high_success: { zh: "覆盖率优秀！AI 归因数据可靠。", en: "Excellent coverage! AI attribution data is reliable." },
  setup_utm_links: { zh: "设置 UTM 链接", en: "Setup UTM Links" },
  
  // 低样本量提示
  low_sample_warning: { zh: "样本量较小，指标仅供参考", en: "Sample size is small. Metrics are for reference only." },
  very_low_sample_warning: { zh: "AI 订单极少，数据不具统计意义", en: "Very few AI orders. Data is not statistically reliable." },
  no_ai_orders_detected: { zh: "尚未检测到 AI 渠道订单", en: "No AI orders detected yet" },
  only_n_ai_orders: { zh: "仅检测到 {n} 笔 AI 订单", en: "Only {n} AI order(s) detected" },
  ai_data_collection_hint: { zh: "AI 渠道指标需要更多数据才具有参考价值。", en: "AI channel metrics require more data to be meaningful." },
  extend_date_range_tip: { zh: "建议延长时间范围或在「设置」中检查归因规则。", en: "Try extending the date range or checking your attribution rules in Settings." },
  
  // 通用操作
  apply: { zh: "应用", en: "Apply" },
  cancel: { zh: "取消", en: "Cancel" },
  confirm: { zh: "确认", en: "Confirm" },
  loading: { zh: "加载中...", en: "Loading..." },
  refresh: { zh: "刷新", en: "Refresh" },
  download: { zh: "下载", en: "Download" },
  upload: { zh: "上传", en: "Upload" },
  
  // 时间范围
  last_7_days: { zh: "最近 7 天", en: "Last 7 days" },
  last_30_days: { zh: "最近 30 天", en: "Last 30 days" },
  last_90_days: { zh: "最近 90 天", en: "Last 90 days" },
  custom_range: { zh: "自定义", en: "Custom" },
  from_date: { zh: "开始日期", en: "From" },
  to_date: { zh: "结束日期", en: "To" },
  apply_custom: { zh: "应用自定义", en: "Apply Custom" },
  
  // 计费相关
  free_plan: { zh: "免费版", en: "Free Plan" },
  pro_plan: { zh: "专业版", en: "Pro Plan" },
  growth_plan: { zh: "增长版", en: "Growth Plan" },
  upgrade_to_pro: { zh: "升级到 Pro 版", en: "Upgrade to Pro" },
  trial_days_left: { zh: "试用剩余 {n} 天", en: "{n} day(s) trial left" },
  dev_store_env: { zh: "开发店环境", en: "Development store" },
  
  // 错误信息
  error_generic: { zh: "发生错误，请稍后重试", en: "An error occurred. Please try again later." },
  error_network: { zh: "网络错误，请检查连接", en: "Network error. Please check your connection." },
  error_unauthorized: { zh: "未授权，请重新登录", en: "Unauthorized. Please log in again." },
  error_rate_limit: { zh: "请求过于频繁，请稍后重试", en: "Too many requests. Please try again later." },
  
  // Dashboard 新增
  overall: { zh: "整体", en: "Overall" },
  ai_channels: { zh: "AI 渠道", en: "AI Channels" },
  non_ai: { zh: "非 AI / 未识别", en: "Non-AI / Unattributed" },
  awaiting_data: { zh: "等待数据", en: "Awaiting data" },
  all: { zh: "全部", en: "All" },
  filter_by: { zh: "按...过滤", en: "Filter by..." },
  
  // Backfill 相关
  backfill_in_background: { zh: "后台补拉", en: "Backfill in background" },
  backfilling: { zh: "后台补拉中...", en: "Backfilling..." },
  backfill_triggered: { zh: "已触发后台任务", en: "Background task triggered" },
  backfill_in_flight: { zh: "已有补拉在进行中，稍后刷新", en: "A backfill is already running; refresh later" },
  
  // Webhook 相关
  webhook_status: { zh: "Webhook 状态", en: "Webhook Status" },
  pending: { zh: "待处理", en: "Pending" },
  processing: { zh: "处理中", en: "Processing" },
  completed: { zh: "已完成", en: "Completed" },
  failed: { zh: "失败", en: "Failed" },
};

export const t = (language: Lang, key: keyof typeof dict) => {
  const item = dict[key];
  if (!item) return key;
  return language === "English" ? item.en : item.zh;
};
